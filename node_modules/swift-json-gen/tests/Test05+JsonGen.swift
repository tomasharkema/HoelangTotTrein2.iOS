//
//  Test05+JsonGen.swift
//
//  Auto generated by swift-json-gen on Thu, 05 Nov 2015 07:19:20 GMT
//  See for details: https://github.com/tomlokhorst/swift-json-gen
//

import Foundation

extension Test05 {
  static func decodeJson(json: AnyObject) throws -> Test05 {
    guard let dict = json as? [String : AnyObject] else {
      throw JsonDecodeError.WrongType(rawValue: json, expectedType: "Object")
    }

    var errors: [String: JsonDecodeError] = [:]

    var one_optional: AnyObject?
    var two_optional: [String : AnyObject]?
    var three_optional: [AnyObject]?
    var four_optional: [String : AnyObject]??
    var five_optional: [[AnyObject]]?
    var six_optional: [[AnyObject?]?]??

    if let one_field: AnyObject = dict["one"] {
    one_optional = one_field as AnyObject
    }
    else {
      errors["one"] = JsonDecodeError.MissingField
    }

    if let two_field: AnyObject = dict["two"] {
      if let two_field = two_field as? [String : AnyObject] {
        two_optional = two_field
      }
      else {
        errors["two"] = JsonDecodeError.WrongType(rawValue: two_field, expectedType: "[String : AnyObject]")
      }
    }
    else {
      errors["two"] = JsonDecodeError.MissingField
    }

    if let three_field: AnyObject = dict["three"] {
      if let three_field = three_field as? [AnyObject] {
        three_optional = three_field
      }
      else {
        errors["three"] = JsonDecodeError.WrongType(rawValue: three_field, expectedType: "[AnyObject]")
      }
    }
    else {
      errors["three"] = JsonDecodeError.MissingField
    }

    let four_field: AnyObject? = dict["four"]
    if let four_field = four_field where !(four_field is NSNull) {
      do {
        four_optional = try Optional.decodeJson({ guard let result = $0 as? JsonObject else { throw JsonDecodeError.WrongType(rawValue: $0, expectedType: "JsonObject") }; return result }, four_field)
      }
      catch let error as JsonDecodeError {
        errors["four"] = error
      }
    }
    else {
      four_optional = .Some(nil)
    }

    if let five_field: AnyObject = dict["five"] {
      do {
        five_optional = try Array.decodeJson({ guard let result = $0 as? JsonArray else { throw JsonDecodeError.WrongType(rawValue: $0, expectedType: "JsonArray") }; return result }, five_field)
      }
      catch let error as JsonDecodeError {
        errors["five"] = error
      }
    }
    else {
      errors["five"] = JsonDecodeError.MissingField
    }

    let six_field: AnyObject? = dict["six"]
    if let six_field = six_field where !(six_field is NSNull) {
      do {
        six_optional = try Optional.decodeJson({ try Array.decodeJson({ try Optional.decodeJson({ try Array.decodeJson({ try Optional.decodeJson({ $0 as AnyJson }, $0) }, $0) }, $0) }, $0) }, six_field)
      }
      catch let error as JsonDecodeError {
        errors["six"] = error
      }
    }
    else {
      six_optional = .Some(nil)
    }

    guard
      let one = one_optional,
      let two = two_optional,
      let three = three_optional,
      let four = four_optional,
      let five = five_optional,
      let six = six_optional
    else {
      throw JsonDecodeError.StructErrors(type: "Test05", errors: errors)
    }

    return Test05(one: one, two: two, three: three, four: four, five: five, six: six)
  }

  func encodeJson() -> [String: AnyObject] {
    var dict: [String: AnyObject] = [:]

    dict["one"] = one
    dict["two"] = two.encodeJson({ $0.encodeJson() }, { $0 })
    dict["three"] = three.encodeJson({ $0 })
    dict["four"] = four.encodeJson({ $0.encodeJson({ $0.encodeJson() }, { $0 }) })
    dict["five"] = five.encodeJson({ $0.encodeJson({ $0 }) })
    dict["six"] = six.encodeJson({ $0.encodeJson({ $0.encodeJson({ $0.encodeJson({ $0.encodeJson({ $0 }) }) }) }) })

    return dict
  }
}
